<div class="container">
  <h2>Cadastro de Voluntário</h2>

  @if (successMessage()) {
    <div class="alert success">
      {{ successMessage() }}
    </div>
  }

  @if (errorMessage()) {
    <div class="alert error">
      {{ errorMessage() }}
    </div>
  }

  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    
    <div class="campo">
      <label for="nome">Nome</label>
      <input id="nome" type="text" formControlName="nome">
      @if (form.get('nome')?.invalid && form.get('nome')?.touched) {
        <span class="error-msg">Nome é obrigatório.</span>
      }
    </div>

    <div class="campo">
      <label for="email">Email</label>
      <input id="email" type="email" formControlName="email">
      @if (form.get('email')?.invalid && form.get('email')?.touched) {
        <span class="error-msg">Digite um e-mail válido.</span>
      }
    </div>

    <div class="senha">
      <label for="senha">Senha</label>
      <input id="senha" type="password" formControlName="senha">
      @if (form.get('senha')?.invalid && form.get('senha')?.touched) {
        <span class="error-msg">A senha é obrigatória.</span>
      }
    </div>
   
    <div class="cep">
      <label for="cep">CEP</label>
      <input id="cep" type="text" formControlName="cep">
      @if (form.get('cep')?.invalid && form.get('cep')?.touched) {
        <span class="error-msg">CEP é obrigatório.</span>
      }
    </div>

    <div class="campo">
      <label for="numero">Número</label>
      <input id="numero" type="text" formControlName="numero">
      @if (form.get('numero')?.invalid && form.get('numero')?.touched) {
        <span class="error-msg">Número é obrigatório.</span>
      }
    </div>

    <button type="submit" [disabled]="loading()">
      @if (loading()) {
        <span>Cadastrando...</span>
      } @else {
        <span>Criar conta</span>
      }
    </button>

    <div class="footer-link">
      Já tem conta? <a routerLink="/login">Faça Login</a>
    </div>
  </form>
</div>